{"version":3,"sources":["webpack:///static/js/1.d42f8c81f75a49fa9534.js","webpack:///./src/pages/mine-sweeper.vue","webpack:///./src/modules/utils.coffee?b846","webpack:///./src/pages/mine-sweeper.vue?2b75","webpack:///./src/pages/mine-sweeper.vue?e680","webpack:///./src/pages/mine-sweeper.vue?cf56","webpack:///./src/pages/mine-sweeper.vue?6bcb"],"names":["webpackJsonp","32","module","exports","__webpack_require__","Component","34","__webpack_exports__","permutations","arr","num","_pmt","r","t","a","n","i","l","push","length","concat","slice","combinations","_com","shuffle","array","count","result","Math","floor","random","fermat","b","c","intersection","line","line_be","line_cf","normal","normal_b","normal_c","sub_vector","triangle","vector","vector_ab","vector_ac","vector_ae","vector_af","vector_be","vector_cf","y","pa","pb","x","va","vb","v","dir","dot_a","na","nb","sqrt","p","l1","l2","37","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__modules_utils_coffee__","name","data","risk","density","counter","counting","col","row","exploded","exposed","flaged","cells","neighbor","playing","last_time","duplicate_counter","luckiness","computed","colspan","this","img_colspan","img","empty","mines","round","remained","interval","created","init","mounted","document","addEventListener","handleVisibility","activated","title","body","style","backgroundColor","togglePause","deactivated","methods","createCells","createMines","console","info","Date","now","setTimeout","_this","key","j","isExposed","cell","cellStatus","mined","cellClass","k","ref","ref1","createNeighbor","map","filter","duplicate","len","keys","forEach","error","clearMines","results","moveMines","fkeys","split","findIndex","mouse","e","button","sweep","flag","expose","explode","expose_neighbor","flag_neighbor","Number","reduce","win","lucky","doubt","doubtful","exposed_cells","innocent_cells","exposed_flags","exposed_neighbor","exposed_unexposed","42","version","sources","names","mappings","file","sourcesContent","sourceRoot","46","content","locals","51","render","_vm","_h","$createElement","_c","_self","_v","staticClass","attrs","summary","domProps","textContent","_s","_e","src","on","click","_l","class","contextmenu","$event","preventDefault","mousedown","staticRenderFns"],"mappings":"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","file":"static/js/1.d42f8c81f75a49fa9534.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 32:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(46)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(37),\n  /* template */\n  __webpack_require__(51),\n  /* scopeId */\n  \"data-v-e26bd150\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar m;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (m = {\n  permutations: function permutations(arr, num) {\n    var _pmt, r;\n    r = [];\n    _pmt = function pmt(t, a, n) {\n      var i, l;\n      if (n === 0) {\n        return r.push(t);\n      }\n      i = 0;\n      l = a.length;\n      while (i < l) {\n        _pmt(t.concat(a[i]), a.slice(0, i).concat(a.slice(i + 1)), n - 1);\n        i++;\n      }\n    };\n    _pmt([], arr, num);\n    return r;\n  },\n  combinations: function combinations(arr, num) {\n    var _com, r;\n    r = [];\n    _com = function com(t, a, n) {\n      var i, l;\n      if (n === 0) {\n        return r.push(t);\n      }\n      i = 0;\n      l = a.length;\n      while (i <= l - n) {\n        _com(t.concat(a[i]), a.slice(i + 1), n - 1);\n        i++;\n      }\n    };\n    _com([], arr, num);\n    return r;\n  },\n  shuffle: function shuffle(array, count) {\n    var i, length, result, t;\n    length = array.length;\n    result = [];\n    if (count == null) {\n      count = length;\n    }\n    while (length && result.length < count) {\n      i = Math.floor(Math.random() * length--);\n      t = array[length];\n      array[length] = array[i];\n      array[i] = t;\n      result.push(array[length]);\n    }\n    return result;\n  },\n  fermat: function fermat(a, b, c) {\n    var fermat, intersection, line, line_be, line_cf, mirror, normal, normal_b, normal_c, sub_vector, triangle, vector, vector_ab, vector_ac, vector_ae, vector_af, vector_be, vector_cf;\n    mirror = function mirror(a, b, c) {\n      a.y = a.y * -1;\n      b.y = b.y * -1;\n      return c.y = c.y * -1;\n    };\n    vector = function vector(pa, pb) {\n      return [pb.x - pa.x, pb.y - pa.y];\n    };\n    sub_vector = function sub_vector(va, vb) {\n      return [va[0] - vb[0], va[1] - vb[1]];\n    };\n    normal = function normal(v, dir) {\n      var dot_a, na, nb;\n      na = [v[1], v[0] * -1];\n      nb = [v[1] * -1, v[0]];\n      dot_a = na[0] * dir[0] + na[1] * dir[1];\n      if (dot_a < 0) {\n        return na;\n      } else {\n        return nb;\n      }\n    };\n    triangle = function triangle(v, n) {\n      return [(v[0] + Math.sqrt(3) * n[0]) * 0.5, (v[1] + Math.sqrt(3) * n[1]) * 0.5];\n    };\n    line = function line(v, p) {\n      return {\n        a: v[1],\n        b: v[0] * -1,\n        c: v[0] * p.y - v[1] * p.x\n      };\n    };\n    intersection = function intersection(l1, l2) {\n      return {\n        x: (l1.b * l2.c - l2.b * l1.c) / (l1.a * l2.b - l2.a * l1.b),\n        y: (l2.a * l1.c - l1.a * l2.c) / (l1.a * l2.b - l2.a * l1.b)\n      };\n    };\n    vector_ab = vector(a, b);\n    vector_ac = vector(a, c);\n    normal_b = normal(vector_ac, vector_ab);\n    normal_c = normal(vector_ab, vector_ac);\n    vector_ae = triangle(vector_ac, normal_b);\n    vector_af = triangle(vector_ab, normal_c);\n    vector_be = sub_vector(vector_ae, vector_ab);\n    vector_cf = sub_vector(vector_af, vector_ac);\n    line_cf = line(vector_cf, c);\n    line_be = line(vector_be, b);\n    fermat = intersection(line_be, line_cf);\n    return fermat;\n  }\n});\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__modules_utils_coffee__ = __webpack_require__(34);\nvar m;\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (m = {\n  name: 'minesweeper',\n  data: function() {\n    return {\n      risk: null,\n      density: 0.15625,\n      counter: '∞',\n      counting: false,\n      col: 30,\n      row: 16,\n      exploded: false,\n      exposed: 0,\n      flaged: 0,\n      cells: {},\n      neighbor: [[-1, -1], [0, -1], [1, -1], [-1, 0], [1, 0], [-1, 1], [0, 1], [1, 1]],\n      playing: false,\n      last_time: 0,\n      duplicate_counter: 0,\n      luckiness: 0\n    };\n  },\n  computed: {\n    colspan: function() {\n      if (this.col >= 10) {\n        return 4;\n      } else {\n        return (this.col - 2) * 0.5;\n      }\n    },\n    img_colspan: function() {\n      if (this.col % 2 === 0) {\n        return 2;\n      } else {\n        return 3;\n      }\n    },\n    img: function() {\n      if (this.exploded) {\n        return 'sad.gif';\n      } else if (this.exposed === this.empty) {\n        return 'happy.gif';\n      } else {\n        return 'peace.gif';\n      }\n    },\n    mines: function() {\n      if (this.risk) {\n        return this.risk;\n      } else {\n        if (this.col === 30 && this.row === 16) {\n          return 99;\n        } else if (this.col === 16 && this.row === 16) {\n          return 40;\n        } else if (this.col === 9 && this.row === 9 || this.col === 16 && this.row === 16) {\n          return 10;\n        } else {\n          return 10 * Math.round(this.col * this.row * this.density * 0.1);\n        }\n      }\n    },\n    empty: function() {\n      return this.row * this.col - this.mines;\n    },\n    remained: function() {\n      return this.mines - this.flaged;\n    },\n    interval: function() {\n      return (this.col - this.colspan * 2 - 2) * 0.5;\n    }\n  },\n  created: function() {\n    return this.init();\n  },\n  mounted: function() {\n    return document.addEventListener('visibilitychange', this.handleVisibility, false);\n  },\n  activated: function() {\n    document.title = 'Mine Sweeper';\n    document.body.style.backgroundColor = '#666666';\n    return this.togglePause();\n  },\n  deactivated: function() {\n    this.togglePause();\n    return document.body.style.backgroundColor = '#ffffff';\n  },\n  methods: {\n    init: function() {\n      this.exploded = false;\n      this.flaged = 0;\n      this.exposed = 0;\n      this.counting = false;\n      this.counter = '∞';\n      this.duplicate_counter = 0;\n      this.cells = {};\n      this.createCells();\n      return this.createMines();\n    },\n    handleVisibility: function() {\n      return this.togglePause();\n    },\n    togglePause: function() {\n      this.playing = !this.playing;\n      if (this.counting) {\n        this.count();\n        if (this.playing) {\n          return console.info('continue');\n        } else {\n          return console.info('pause');\n        }\n      }\n    },\n    count: function() {\n      if (!this.counting || !this.playing) {\n        return;\n      }\n      if (Date.now() - this.last_time >= 1000) {\n        this.counter += 1;\n        this.last_time = Date.now();\n      } else {\n        this.duplicate_counter += 1;\n      }\n      return setTimeout((function(_this) {\n        return function() {\n          return _this.count();\n        };\n      })(this), 1000);\n    },\n    key: function(i, j) {\n      return i + '-' + j;\n    },\n    isExposed: function(i, j) {\n      var cell, key;\n      key = this.key(i, j);\n      cell = this.cells[key];\n      if (cell && cell.exposed) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    cellStatus: function(i, j) {\n      var cell, key;\n      key = this.key(i, j);\n      cell = this.cells[key];\n      if (this.exploded) {\n        if (cell.flaged === 'flaged') {\n          if (cell.mined) {\n            return '!';\n          } else {\n            return '×';\n          }\n        } else if (cell.mined) {\n          return '☀';\n        } else if (cell.mines > 0) {\n          return cell.mines;\n        } else {\n          return '';\n        }\n      } else if (cell.exposed) {\n        if (cell.mines > 0) {\n          return cell.mines;\n        } else {\n          return '';\n        }\n      } else if (cell.flaged === 'flaged') {\n        return '!';\n      } else if (cell.flaged === 'unsettled') {\n        return '?';\n      } else {\n        return '';\n      }\n    },\n    cellClass: function(i, j) {\n      var array, cell, key;\n      key = this.key(i, j);\n      cell = this.cells[key];\n      array = [];\n      if (this.exploded) {\n        if (cell.flaged === 'flaged') {\n          if (!cell.mined) {\n            array.push('incorrect');\n            array.push('exposed');\n          }\n        } else if (cell.exposed || cell.mined) {\n          array.push('exposed');\n        }\n        if (cell.exploded) {\n          array.push('exploded');\n        } else if (!cell.mined && cell.mines > 0 && !cell.flaged) {\n          array.push('m' + cell.mines);\n        }\n      } else if (cell.exposed) {\n        array.push('exposed');\n        if (cell.mines > 0) {\n          array.push('m' + cell.mines);\n        }\n      }\n      return array;\n    },\n    createCells: function() {\n      var cells, i, j, k, key, l, ref, ref1;\n      cells = {};\n      for (i = k = 1, ref = this.col; 1 <= ref ? k <= ref : k >= ref; i = 1 <= ref ? ++k : --k) {\n        for (j = l = 1, ref1 = this.row; 1 <= ref1 ? l <= ref1 : l >= ref1; j = 1 <= ref1 ? ++l : --l) {\n          key = this.key(i, j);\n          cells[key] = {\n            x: i,\n            y: j,\n            mined: false,\n            flaged: false,\n            exposed: false,\n            neighbor: this.createNeighbor(i, j),\n            mines: 0\n          };\n        }\n      }\n      return this.cells = cells;\n    },\n    createNeighbor: function(i, j) {\n      var neighbor;\n      neighbor = this.neighbor.map(function(n) {\n        return {\n          x: n[0] + i,\n          y: n[1] + j\n        };\n      });\n      neighbor = neighbor.filter((function(_this) {\n        return function(n) {\n          var ref, ref1;\n          return (1 <= (ref = n.x) && ref <= _this.col) && (1 <= (ref1 = n.y) && ref1 <= _this.row);\n        };\n      })(this));\n      return neighbor;\n    },\n    createMines: function(shuffle) {\n      var duplicate, k, key, len, mined;\n      duplicate = 0;\n      mined = 0;\n      if (!shuffle) {\n        shuffle = __WEBPACK_IMPORTED_MODULE_0__modules_utils_coffee__[\"a\" /* default */].shuffle(Object.keys(this.cells), this.mines);\n      }\n      for (k = 0, len = shuffle.length; k < len; k++) {\n        key = shuffle[k];\n        if (!this.cells[key].mined) {\n          this.cells[key].mined = true;\n          mined += 1;\n          this.cells[key].neighbor.forEach((function(_this) {\n            return function(n) {\n              return _this.cells[_this.key(n.x, n.y)].mines += 1;\n            };\n          })(this));\n        } else {\n          duplicate += 1;\n        }\n      }\n      if (mined !== this.mines) {\n        return console.error(shuffle, mined);\n      }\n    },\n    clearMines: function() {\n      var cell, key, ref, results;\n      ref = this.cells;\n      results = [];\n      for (key in ref) {\n        cell = ref[key];\n        cell.mined = false;\n        results.push(cell.mines = 0);\n      }\n      return results;\n    },\n    moveMines: function(cell) {\n      var array, fkeys, keys, shuffle;\n      array = [];\n      array.push(cell);\n      array = array.concat(cell.neighbor);\n      keys = Object.keys(this.cells);\n      fkeys = keys.filter(function(key) {\n        var a, index;\n        a = key.split('-');\n        index = array.findIndex(function(b) {\n          return b.x === ~~a[0] && b.y === ~~a[1];\n        });\n        return index === -1;\n      });\n      shuffle = __WEBPACK_IMPORTED_MODULE_0__modules_utils_coffee__[\"a\" /* default */].shuffle(fkeys, this.mines);\n      this.clearMines();\n      return this.createMines(shuffle);\n    },\n    mouse: function(e, i, j) {\n      var cell, key;\n      if (this.exploded || this.exposed === this.empty) {\n        return;\n      }\n      key = this.key(i, j);\n      cell = this.cells[key];\n      if (e.button === 0) {\n        return this.sweep(cell);\n      } else if (e.button === 2) {\n        return this.flag(cell);\n      }\n    },\n    sweep: function(cell) {\n      var key;\n      if (cell.flaged === 'flaged') {\n        return;\n      }\n      if (this.exposed === 0) {\n        if (cell.mined || cell.mines > 0) {\n          this.moveMines(cell);\n        }\n        this.counting = true;\n        this.counter = 0;\n        this.count();\n        key = this.key(cell.x, cell.y);\n        return this.expose(this.cells[key]);\n      } else if (cell.mined) {\n        return this.explode(cell);\n      } else {\n        if (cell.exposed) {\n          return this.expose_neighbor(cell);\n        } else {\n          return this.expose(cell);\n        }\n      }\n    },\n    flag: function(cell) {\n      if (this.exposed === 0) {\n        return;\n      }\n      if (cell.exposed) {\n        return this.flag_neighbor(cell);\n      } else {\n        switch (cell.flaged) {\n          case 'flaged':\n            cell.flaged = 'unsettled';\n            return this.flaged -= 1;\n          case 'unsettled':\n            return cell.flaged = false;\n          default:\n            cell.flaged = 'flaged';\n            return this.flaged += 1;\n        }\n      }\n    },\n    flag_neighbor: function(cell) {\n      var cells, mines;\n      cells = cell.neighbor.map((function(_this) {\n        return function(c) {\n          return _this.cells[_this.key(c.x, c.y)];\n        };\n      })(this));\n      mines = cells.map(function(c) {\n        return Number(!c.exposed);\n      }).reduce(function(a, b) {\n        return a + b;\n      });\n      if (mines >= cell.mines) {\n        return cells.filter(function(c) {\n          return !c.exposed && !c.flaged;\n        }).forEach((function(_this) {\n          return function(c) {\n            _this.flag(c);\n          };\n        })(this));\n      }\n    },\n    expose: function(cell) {\n      if (cell.exposed) {\n        return;\n      }\n      cell.exposed = true;\n      this.exposed += 1;\n      if (cell.mines === 0) {\n        cell.neighbor.map((function(_this) {\n          return function(c) {\n            return _this.cells[_this.key(c.x, c.y)];\n          };\n        })(this)).forEach((function(_this) {\n          return function(n) {\n            _this.expose(n);\n          };\n        })(this));\n      }\n      return this.win();\n    },\n    expose_neighbor: function(cell) {\n      var cells, mines;\n      cells = cell.neighbor.map((function(_this) {\n        return function(c) {\n          return _this.cells[_this.key(c.x, c.y)];\n        };\n      })(this));\n      mines = cells.map(function(c) {\n        return Number(c.flaged === 'flaged');\n      }).reduce(function(a, b) {\n        return a + b;\n      });\n      if (mines >= cell.mines) {\n        cells.filter(function(n) {\n          return n.flaged !== 'flaged';\n        }).forEach((function(_this) {\n          return function(n) {\n            if (n.mined) {\n              _this.explode(n);\n            } else {\n              _this.expose(n);\n            }\n          };\n        })(this));\n      }\n    },\n    win: function() {\n      if (this.exposed === this.empty) {\n        this.counting = false;\n        return console.info('WIN');\n      }\n    },\n    explode: function(cell) {\n      cell.exploded = true;\n      this.exploded = true;\n      this.counting = false;\n      return console.info('LOSE');\n    },\n    lucky: function(cell) {\n      var cells, doubt, doubtful, exposed_cells, innocent_cells;\n      cells = cell.neighbor.map((function(_this) {\n        return function(c) {\n          return _this.cells[_this.key(c.x, c.y)];\n        };\n      })(this));\n      innocent_cells = cells.filter((function(_this) {\n        return function(c) {\n          return !c.exposed && c.flaged !== 'flaged' && !c.mined;\n        };\n      })(this));\n      exposed_cells = cells.filter(function(c) {\n        return c.exposed;\n      });\n      if (innocent_cells.length === 0) {\n        this.explode(cell);\n        return;\n      } else if (exposed_cells.length === 0) {\n        this.flag(cell);\n        this.luckiness += 1;\n        return;\n      }\n      doubt = (function(_this) {\n        return function(exposed) {\n          var exposed_flags, exposed_neighbor, exposed_unexposed, ref;\n          exposed_neighbor = exposed.neighbor.map(function(n) {\n            return _this.cells[_this.key(n.x, n.y)];\n          });\n          exposed_unexposed = exposed_neighbor.filter(function(n) {\n            return !n.exposed;\n          });\n          exposed_flags = exposed_neighbor.map(function(n) {\n            return Number(n.flaged === 'flaged');\n          }).reduce(function(a, b) {\n            return a + b;\n          });\n          if ((exposed_unexposed.length > (ref = exposed.mines - exposed_flags) && ref > 0)) {\n            return true;\n          } else {\n            return false;\n          }\n        };\n      })(this);\n      doubtful = exposed_cells.map(function(e) {\n        return doubt(e);\n      }).reduce(function(a, b) {\n        return a && b;\n      });\n      if (doubtful) {\n        this.flag(cell);\n        return this.luckiness += 1;\n      } else {\n        return this.explode(cell);\n      }\n    }\n  }\n});\n\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(28)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"h2[data-v-e26bd150]{color:#fff}.board[data-v-e26bd150]{display:inline-block;padding-left:1rem;padding-right:1rem;padding-bottom:1rem;text-align:left}.board[data-v-e26bd150],.table[data-v-e26bd150]{user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;-webkit-user-select:none}.table[data-v-e26bd150]{margin-top:1rem;margin-bottom:1rem;border-spacing:0;background-color:#666;color:#000}td[data-v-e26bd150],th[data-v-e26bd150]{margin:0;border:2px solid;border-color:#eee #999 #999 #eee;background-color:#ccc;padding:0;vertical-align:middle;text-align:center}td[data-v-e26bd150]{box-sizing:border-box;max-width:1.5rem;min-width:1.5rem;min-height:1.5rem;max-height:1.5rem;font-size:1rem;font-weight:700;line-height:1.1rem}img[data-v-e26bd150],td[data-v-e26bd150]{width:1.5rem;height:1.5rem;cursor:pointer}img[data-v-e26bd150]{margin:2px;border:3px groove #eee;padding:.3rem;vertical-align:middle}.exposed[data-v-e26bd150]{background-color:#bbb;border-width:1px;border-color:#999;padding:1px;cursor:default}.exploded[data-v-e26bd150],.incorrect[data-v-e26bd150]{color:red}.m1[data-v-e26bd150]{color:#33c}.m2[data-v-e26bd150]{color:#060}.m3[data-v-e26bd150]{color:#c00}.m4[data-v-e26bd150]{color:#606}.m5[data-v-e26bd150]{color:#066}.counter[data-v-e26bd150]{margin:.25em;border:1px inset #eee;padding-right:3px;background-color:#000;color:#f66;font-size:1.5rem;font-weight:700;line-height:1;text-align:right}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/ding/Documents/GitHub/Aha/src/pages/mine-sweeper.vue\"],\"names\":[],\"mappings\":\"AAqcA,oBACE,UAAa,CACd,AACD,wBACE,qBAAsB,AACtB,kBAAmB,AACnB,mBAAoB,AACpB,oBAAqB,AACrB,eAAiB,CAMlB,AACD,gDANE,iBAAkB,AAClB,sBAAuB,AACvB,qBAAsB,AACtB,oBAAqB,AACrB,wBAA0B,CAa3B,AAXD,wBACE,gBAAiB,AACjB,mBAAoB,AACpB,iBAAoB,AACpB,sBAA0B,AAC1B,UAAe,CAMhB,AACD,wCAEE,SAAY,AACZ,iBAAkB,AAClB,iCAA8C,AAC9C,sBAA0B,AAC1B,UAAa,AACb,sBAAuB,AACvB,iBAAmB,CACpB,AACD,oBACE,sBAAuB,AAGvB,iBAAkB,AAElB,iBAAkB,AAElB,kBAAmB,AACnB,kBAAmB,AACnB,eAAgB,AAChB,gBAAkB,AAClB,kBAAoB,CAErB,AACD,yCAZE,aAAc,AAId,cAAe,AAMf,cAAgB,CAUjB,AARD,qBAGE,WAAY,AACZ,uBAA2B,AAC3B,cAAgB,AAChB,qBAAuB,CAExB,AACD,0BACE,sBAA0B,AAC1B,iBAAkB,AAClB,kBAAsB,AACtB,YAAa,AACb,cAAgB,CACjB,AACD,uDAEE,SAAe,CAChB,AACD,qBACE,UAAe,CAChB,AACD,qBACE,UAAe,CAChB,AACD,qBACE,UAAe,CAChB,AACD,qBACE,UAAe,CAChB,AACD,qBACE,UAAe,CAChB,AACD,0BACE,aAAe,AACf,sBAA0B,AAC1B,kBAAmB,AAEnB,sBAA0B,AAC1B,WAAe,AACf,iBAAkB,AAClB,gBAAkB,AAClB,cAAe,AACf,gBAAkB,CACnB\",\"file\":\"mine-sweeper.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n/*\\ncss copied from: https://birrell.org/andrew/minesweeper/\\n*/\\nh2[data-v-e26bd150] {\\n  color: white;\\n}\\n.board[data-v-e26bd150] {\\n  display: inline-block;\\n  padding-left: 1rem;\\n  padding-right: 1rem;\\n  padding-bottom: 1rem;\\n  text-align: left;\\n  user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  -o-user-select: none;\\n  -webkit-user-select: none;\\n}\\n.table[data-v-e26bd150] {\\n  margin-top: 1rem;\\n  margin-bottom: 1rem;\\n  border-spacing: 0px;\\n  background-color: #666666;\\n  color: #000000;\\n  user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  -o-user-select: none;\\n  -webkit-user-select: none;\\n}\\ntd[data-v-e26bd150],\\nth[data-v-e26bd150] {\\n  margin: 0px;\\n  border: 2px solid;\\n  border-color: #eeeeee #999999 #999999 #eeeeee;\\n  background-color: #cccccc;\\n  padding: 0px;\\n  vertical-align: middle;\\n  text-align: center;\\n}\\ntd[data-v-e26bd150] {\\n  box-sizing: border-box;\\n  /* avoids jumpiness when zoomed */\\n  width: 1.5rem;\\n  max-width: 1.5rem;\\n  /* avoids being resized if text is too long (iOS) */\\n  min-width: 1.5rem;\\n  height: 1.5rem;\\n  min-height: 1.5rem;\\n  max-height: 1.5rem;\\n  font-size: 1rem;\\n  font-weight: bold;\\n  line-height: 1.1rem;\\n  cursor: pointer;\\n}\\nimg[data-v-e26bd150] {\\n  width: 1.5rem;\\n  height: 1.5rem;\\n  margin: 2px;\\n  border: 3px groove #eeeeee;\\n  padding: 0.3rem;\\n  vertical-align: middle;\\n  cursor: pointer;\\n}\\n.exposed[data-v-e26bd150] {\\n  background-color: #bbbbbb;\\n  border-width: 1px;\\n  border-color: #999999;\\n  padding: 1px;\\n  cursor: default;\\n}\\n.exploded[data-v-e26bd150],\\n.incorrect[data-v-e26bd150] {\\n  color: #ff0000;\\n}\\n.m1[data-v-e26bd150] {\\n  color: #3333cc;\\n}\\n.m2[data-v-e26bd150] {\\n  color: #006600;\\n}\\n.m3[data-v-e26bd150] {\\n  color: #cc0000;\\n}\\n.m4[data-v-e26bd150] {\\n  color: #660066;\\n}\\n.m5[data-v-e26bd150] {\\n  color: #006666;\\n}\\n.counter[data-v-e26bd150] {\\n  margin: 0.25em;\\n  border: 1px inset #eeeeee;\\n  padding-right: 3px;\\n  /*width: 2.75em;*/\\n  background-color: #000000;\\n  color: #ff6666;\\n  font-size: 1.5rem;\\n  font-weight: bold;\\n  line-height: 1;\\n  text-align: right;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 46:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(42);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(29)(\"4efa51a6\", content, true);\n\n/***/ }),\n\n/***/ 51:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('h2', [_vm._v(\"Mine Sweeper\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"board\"\n  }, [_c('table', {\n    staticClass: \"table\",\n    attrs: {\n      \"summary\": \"Mine Sweeper\"\n    }\n  }, [_c('thead', [_c('th', {\n    attrs: {\n      \"colspan\": _vm.colspan\n    }\n  }, [_c('div', {\n    staticClass: \"counter\",\n    domProps: {\n      \"textContent\": _vm._s(_vm.remained)\n    }\n  })]), _vm._v(\" \"), (_vm.interval >= 1) ? _c('th', {\n    attrs: {\n      \"colspan\": _vm.interval\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('th', {\n    attrs: {\n      \"colspan\": _vm.img_colspan\n    }\n  }, [_c('img', {\n    attrs: {\n      \"src\": './static/img/' + _vm.img\n    },\n    on: {\n      \"click\": _vm.init\n    }\n  })]), _vm._v(\" \"), (_vm.interval >= 1) ? _c('th', {\n    attrs: {\n      \"colspan\": _vm.interval\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('th', {\n    attrs: {\n      \"colspan\": _vm.colspan\n    }\n  }, [_c('div', {\n    staticClass: \"counter\",\n    domProps: {\n      \"textContent\": _vm._s(_vm.counter)\n    }\n  })])]), _vm._v(\" \"), _c('tbody', _vm._l((_vm.row), function(j) {\n    return _c('tr', {\n      key: j\n    }, [_vm._l((_vm.col), function(i) {\n      return [_c('td', {\n        key: i,\n        class: _vm.cellClass(i, j),\n        domProps: {\n          \"textContent\": _vm._s(_vm.cellStatus(i, j))\n        },\n        on: {\n          \"contextmenu\": function($event) {\n            $event.preventDefault();\n          },\n          \"mousedown\": function($event) {\n            $event.preventDefault();\n            _vm.mouse($event, i, j)\n          }\n        }\n      })]\n    })], 2)\n  }))])])])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/1.d42f8c81f75a49fa9534.js","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-e26bd150\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./mine-sweeper.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!coffee-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./mine-sweeper.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e26bd150\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./mine-sweeper.vue\"),\n  /* scopeId */\n  \"data-v-e26bd150\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/mine-sweeper.vue\n// module id = 32\n// module chunks = 1","export default m =\r\n  permutations: (arr, num) ->\r\n    r = []\r\n    pmt = (t, a, n) ->\r\n      if n == 0\r\n        return r.push(t)\r\n      i = 0\r\n      l = a.length\r\n      while i < l\r\n        pmt t.concat(a[i]), a.slice(0, i).concat(a.slice(i + 1)), n - 1\r\n        i++\r\n      return\r\n    pmt [], arr, num\r\n    r\r\n\r\n  combinations: (arr, num) ->\r\n    r = []\r\n    com = (t, a, n) ->\r\n      if n == 0\r\n        return r.push(t)\r\n      i = 0\r\n      l = a.length\r\n      while i <= l - n\r\n        com t.concat(a[i]), a.slice(i + 1), n - 1\r\n        i++\r\n      return\r\n    com [], arr, num\r\n    r\r\n\r\n  shuffle: (array, count) ->\r\n    length = array.length\r\n    result = []\r\n    if !count?\r\n      count = length\r\n    while length and result.length < count\r\n      i = Math.floor Math.random() * length--\r\n      t = array[length]\r\n      array[length] = array[i]\r\n      array[i] = t\r\n      result.push array[length]\r\n    result\r\n\r\n  fermat: (a, b, c) ->\r\n    mirror = (a, b, c) ->\r\n      a.y = a.y * -1\r\n      b.y = b.y * -1\r\n      c.y = c.y * -1\r\n\r\n    vector = (pa, pb) ->\r\n      [pb.x - pa.x, pb.y - pa.y]\r\n\r\n    sub_vector = (va, vb) ->\r\n      [va[0] - vb[0], va[1] - vb[1]]\r\n\r\n    normal = (v, dir) ->\r\n      na = [v[1], v[0] * -1]\r\n      nb = [v[1] * -1, v[0]]\r\n      dot_a = na[0] * dir[0] + na[1] * dir[1]\r\n      if dot_a < 0\r\n        na\r\n      else\r\n        nb\r\n\r\n    triangle = (v, n) ->\r\n      [(v[0] + Math.sqrt(3) * n[0]) * 0.5, (v[1] + Math.sqrt(3) * n[1]) * 0.5]\r\n\r\n    line = (v, p) ->\r\n      a: v[1]\r\n      b: v[0] * -1\r\n      c: v[0] * p.y - v[1] * p.x\r\n\r\n    intersection = (l1, l2) ->\r\n      x: (l1.b * l2.c - l2.b * l1.c) / (l1.a * l2.b - l2.a * l1.b)\r\n      y: (l2.a * l1.c - l1.a * l2.c) / (l1.a * l2.b - l2.a * l1.b)\r\n\r\n    vector_ab = vector a, b\r\n    vector_ac = vector a, c\r\n    normal_b = normal vector_ac, vector_ab\r\n    normal_c = normal vector_ab, vector_ac\r\n    vector_ae = triangle vector_ac, normal_b\r\n    vector_af = triangle vector_ab, normal_c\r\n    vector_be = sub_vector vector_ae, vector_ab\r\n    vector_cf = sub_vector vector_af, vector_ac\r\n    line_cf = line vector_cf, c\r\n    line_be = line vector_be, b\r\n    fermat = intersection line_be, line_cf\r\n    fermat\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/utils.coffee","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Utils from '../modules/utils.coffee'\n\n\nexport default m =\n  name: 'minesweeper'\n  data: ->\n    risk: null\n    #mines: 99\n    density: 0.15625\n    counter: '∞' # ∞, ☀, ×\n    counting: false\n    col: 30\n    row: 16\n    # colspan: 4\n    # finished: false\n    exploded: false\n    exposed: 0\n    flaged: 0\n    cells: {}\n    # exposes: {}\n    # flags: {}\n    neighbor: [[-1, -1], [0, -1], [1, -1], [-1, 0], [1, 0], [-1, 1], [0, 1], [1, 1]]\n\n    playing: false\n    last_time: 0\n    duplicate_counter: 0\n    luckiness: 0\n\n  computed:\n    colspan: ->\n      if @col >= 10\n        4\n      else\n        (@col - 2) * 0.5\n\n    img_colspan: ->\n      if @col % 2 == 0\n        2\n      else\n        3\n\n    img: ->\n      if @exploded\n        'sad.gif'\n      else if @exposed == @empty\n        'happy.gif'\n      else\n        'peace.gif'\n\n    mines: ->\n      if @risk\n        @risk\n      else\n        if @col == 30 && @row == 16\n          99\n        else if @col == 16 && @row == 16\n          40\n        else if @col == 9 && @row == 9 || @col == 16 && @row == 16\n          10\n        else\n          10 * Math.round @col * @row * @density * 0.1\n\n    empty: ->\n      @row * @col - @mines\n\n    remained: ->\n      @mines - @flaged\n\n    interval: ->\n      (@col - @colspan * 2 - 2) * 0.5\n\n  created: ->\n    @init()\n\n  mounted: ->\n    document.addEventListener 'visibilitychange', @handleVisibility, false\n\n  activated: ->\n    # console.log 'activated'\n    document.title = 'Mine Sweeper'\n    document.body.style.backgroundColor = '#666666'\n    @togglePause()\n\n  deactivated: ->\n    # console.log 'deactivated'\n    @togglePause()\n    document.body.style.backgroundColor = '#ffffff'\n\n  methods:\n    init: ->\n      # console.log 'init'\n      @exploded = false\n      @flaged = 0\n      @exposed = 0\n      @counting = false\n      @counter = '∞'\n      @duplicate_counter = 0\n      @cells = {}\n      @createCells()\n      @createMines()\n      # @updateNeighbor()\n\n    handleVisibility: ->\n      # console.log document.hidden, document.visibilityState\n      @togglePause()\n\n    togglePause: ->\n      @playing = !@playing\n      if @counting\n        # todo: 快速切换会导致多个count运行\n        @count()\n        if @playing\n          console.info 'continue'\n        else\n          console.info 'pause'\n\n    count: ->\n      if !@counting || !@playing then return\n      if Date.now() - @last_time >= 1000\n        @counter += 1\n        @last_time = Date.now()\n      else\n        @duplicate_counter += 1\n      setTimeout =>\n        @count()\n      , 1000\n\n    key: (i, j) ->\n      i + '-' + j\n\n    isExposed: (i, j) ->\n      key = @key i, j\n      cell = @cells[key]\n      if cell && cell.exposed\n        true\n      else\n        false\n\n    cellStatus: (i, j) ->\n      key = @key i, j\n      cell = @cells[key]\n      if @exploded\n        if cell.flaged == 'flaged'\n          if cell.mined\n            '!'\n          else\n            '×'\n        else if cell.mined\n          '☀'\n        else if cell.mines > 0\n          cell.mines\n        else\n          ''\n      else if cell.exposed\n        if cell.mines > 0\n          cell.mines\n        else\n          ''\n      else if cell.flaged == 'flaged'\n        '!'\n      else if cell.flaged == 'unsettled'\n        '?'\n      else\n        ''\n\n    cellClass: (i, j) ->\n      key = @key i, j\n      cell = @cells[key]\n      array = []\n      if @exploded\n        if cell.flaged == 'flaged'\n          if !cell.mined\n            array.push 'incorrect'\n            array.push 'exposed'\n        # 不把所有的cell都改为'exposed'， 因为那样一旦explode，变化会让人(胆小鬼)吓一跳\n        else if cell.exposed || cell.mined\n          array.push 'exposed'\n        if cell.exploded\n          array.push 'exploded'\n        else if !cell.mined && cell.mines > 0 && !cell.flaged\n          array.push 'm' + cell.mines\n      else if cell.exposed\n        array.push 'exposed'\n        if cell.mines > 0\n          array.push 'm' + cell.mines\n      array\n\n    createCells: ->\n      cells = {}\n      for i in [1..@col]\n        for j in [1..@row]\n          key = @key i, j\n          cells[key] =\n            x: i\n            y: j\n            #是mine吗？\n            mined: false\n            #被flag了吗？\n            flaged: false\n            #Not a Mine\n            exposed: false\n            #\"可爱的邻居\"\n            neighbor: @createNeighbor i, j\n            #危险的数目\n            mines: 0\n      @cells = cells\n\n    createNeighbor: (i, j) ->\n      neighbor = @neighbor.map (n) -> x: n[0] + i, y: n[1] + j\n      neighbor = neighbor.filter (n) => 1 <= n.x <= @col && 1 <= n.y <= @row\n      neighbor\n\n    createMines: (shuffle)->\n      duplicate = 0\n      mined = 0\n      if !shuffle\n        shuffle = Utils.shuffle Object.keys(@cells), @mines\n      for key in shuffle\n        if !@cells[key].mined\n          @cells[key].mined = true\n          mined += 1\n          @cells[key].neighbor.forEach (n) =>\n            @cells[@key(n.x, n.y)].mines += 1\n        else\n          duplicate += 1\n      if mined != @mines\n        console.error shuffle, mined\n\n    clearMines: ->\n      for key, cell of @cells\n        cell.mined = false\n        cell.mines = 0\n\n    moveMines: (cell) ->\n      # console.log 'move mines'\n      array = []\n      array.push cell\n      array = array.concat cell.neighbor\n      keys = Object.keys @cells\n      fkeys = keys.filter (key) ->\n        a = key.split('-')\n        index = array.findIndex (b) -> b.x == ~~a[0] && b.y == ~~a[1]\n        index == -1\n      shuffle = Utils.shuffle fkeys, @mines\n      @clearMines()\n      @createMines shuffle\n      # @updateNeighbor()\n\n    mouse: (e, i, j) ->\n      if @exploded || @exposed == @empty then return\n      key = @key i, j\n      cell = @cells[key]\n      if e.button == 0\n        @sweep cell\n      else if e.button == 2\n        @flag cell\n\n\n    sweep: (cell) ->\n      # console.log 'sweep'\n      if cell.flaged == 'flaged' then return\n      if @exposed == 0\n        if cell.mined || cell.mines > 0\n          @moveMines cell\n        @counting = true\n        @counter = 0\n        @count()\n        # 参数cell需要更新为新的cell\n        key = @key cell.x, cell.y\n        @expose @cells[key]\n      else if cell.mined\n        @explode cell\n        # @lucky cell\n      else\n        if cell.exposed\n          @expose_neighbor cell\n        else\n          @expose cell\n\n    flag: (cell) ->\n      # console.log 'flag'\n      if @exposed == 0 then return\n      if cell.exposed\n        @flag_neighbor cell\n      else\n        switch cell.flaged\n          when 'flaged'\n            cell.flaged = 'unsettled'\n            @flaged -= 1\n          when 'unsettled'\n            cell.flaged = false\n          else\n            cell.flaged = 'flaged'\n            @flaged += 1\n\n    flag_neighbor: (cell) ->\n      cells = cell.neighbor.map (c) => @cells[@key c.x, c.y]\n      mines = cells.map (c) -> Number !c.exposed\n      .reduce (a, b) -> a + b\n      if mines >= cell.mines\n        cells.filter (c) -> !c.exposed && !c.flaged\n        .forEach (c) =>\n          @flag c\n          return\n\n    expose: (cell) ->\n      if cell.exposed then return\n      cell.exposed = true\n      @exposed += 1\n      if cell.mines == 0\n        cell.neighbor.map (c) => @cells[@key c.x, c.y]\n        .forEach (n) =>\n          @expose n\n          return\n      @win()\n\n    expose_neighbor: (cell) ->\n      # mines = 0\n      cells = cell.neighbor.map (c) => @cells[@key c.x, c.y]\n      mines = cells.map (c) -> Number c.flaged == 'flaged'\n      .reduce (a, b) -> a + b\n      if mines >= cell.mines\n        cells.filter (n) ->\n          n.flaged != 'flaged'\n        .forEach (n) =>\n          if n.mined\n            @explode n\n            return\n          else\n            @expose n\n            return\n        return\n\n    win: ->\n      if @exposed == @empty\n        @counting = false\n        console.info 'WIN'\n\n    explode: (cell) ->\n      # console.log 'explode'\n      cell.exploded = true\n      @exploded = true\n      @counting = false\n      console.info 'LOSE'\n\n\n    # todo: 解决有时候无法判断是雷是哪个的局面, 自动flag或expose\n    # 完全无运气成分的布雷方式是怎样的呢？\n    # 几率也是乐趣之一\n    # 本cell需要满足的条件:\n    # 1. 周边exposed的cell的mines数大于它的周边的正确flaged数\n    # 2. 周边未exposed的cell都是无法判别的/已经正确flaged的或周边都是未exposed的\n    # 在此只验证条件1， 假设正确flaged、周围都是无法判别的预先成立。\n    lucky: (cell) ->\n      # 所有neighbor\n      cells = cell.neighbor.map (c) => @cells[@key c.x, c.y]\n      # 非mined&&非flaged的\n      innocent_cells = cells.filter (c) => !c.exposed && c.flaged != 'flaged' && !c.mined\n      # exposed的\n      exposed_cells = cells.filter (c) -> c.exposed\n      # 没有替罪羊，只能explode\n      if innocent_cells.length == 0\n        @explode cell\n        return\n      else if exposed_cells.length == 0\n        @flag cell\n        @luckiness += 1\n        return\n      # 检查本cell的周边已exposed的推断情况，如果数字大于flag数，则可能有雷\n      doubt = (exposed) =>\n        exposed_neighbor = exposed.neighbor.map (n) => @cells[@key n.x, n.y]\n        exposed_unexposed = exposed_neighbor.filter (n) -> !n.exposed\n        # 假设周边的flag都是正确的flaged\n        exposed_flags = exposed_neighbor.map (n) -> Number n.flaged == 'flaged'\n        .reduce (a, b) -> a + b\n        # 周边有隐藏的mine\n        if exposed_unexposed.length > exposed.mines - exposed_flags > 0\n          true\n          # exposed_doubt = exposed_unexposed.map (n) =>\n          #   exposed_index = innocent_cells.findIndex (i) -> i.x == n.x && i.y == n.y\n          #   Number exposed_index != -1\n          # .reduce (a, b) -> a + b\n          # console.log exposed_doubt\n          # if exposed_doubt > 0\n          #   true\n          # else\n          #   false\n        # 周边无隐藏的mine\n        else\n          false\n      doubtful = exposed_cells.map (e) -> doubt e\n      .reduce (a, b) -> a && b\n      if doubtful\n        @flag cell\n        @luckiness += 1\n      else\n        @explode cell\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/vue-loader/lib/selector.js?type=script&index=0!./src/pages/mine-sweeper.vue","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"h2[data-v-e26bd150]{color:#fff}.board[data-v-e26bd150]{display:inline-block;padding-left:1rem;padding-right:1rem;padding-bottom:1rem;text-align:left}.board[data-v-e26bd150],.table[data-v-e26bd150]{user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;-webkit-user-select:none}.table[data-v-e26bd150]{margin-top:1rem;margin-bottom:1rem;border-spacing:0;background-color:#666;color:#000}td[data-v-e26bd150],th[data-v-e26bd150]{margin:0;border:2px solid;border-color:#eee #999 #999 #eee;background-color:#ccc;padding:0;vertical-align:middle;text-align:center}td[data-v-e26bd150]{box-sizing:border-box;max-width:1.5rem;min-width:1.5rem;min-height:1.5rem;max-height:1.5rem;font-size:1rem;font-weight:700;line-height:1.1rem}img[data-v-e26bd150],td[data-v-e26bd150]{width:1.5rem;height:1.5rem;cursor:pointer}img[data-v-e26bd150]{margin:2px;border:3px groove #eee;padding:.3rem;vertical-align:middle}.exposed[data-v-e26bd150]{background-color:#bbb;border-width:1px;border-color:#999;padding:1px;cursor:default}.exploded[data-v-e26bd150],.incorrect[data-v-e26bd150]{color:red}.m1[data-v-e26bd150]{color:#33c}.m2[data-v-e26bd150]{color:#060}.m3[data-v-e26bd150]{color:#c00}.m4[data-v-e26bd150]{color:#606}.m5[data-v-e26bd150]{color:#066}.counter[data-v-e26bd150]{margin:.25em;border:1px inset #eee;padding-right:3px;background-color:#000;color:#f66;font-size:1.5rem;font-weight:700;line-height:1;text-align:right}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/ding/Documents/GitHub/Aha/src/pages/mine-sweeper.vue\"],\"names\":[],\"mappings\":\"AAqcA,oBACE,UAAa,CACd,AACD,wBACE,qBAAsB,AACtB,kBAAmB,AACnB,mBAAoB,AACpB,oBAAqB,AACrB,eAAiB,CAMlB,AACD,gDANE,iBAAkB,AAClB,sBAAuB,AACvB,qBAAsB,AACtB,oBAAqB,AACrB,wBAA0B,CAa3B,AAXD,wBACE,gBAAiB,AACjB,mBAAoB,AACpB,iBAAoB,AACpB,sBAA0B,AAC1B,UAAe,CAMhB,AACD,wCAEE,SAAY,AACZ,iBAAkB,AAClB,iCAA8C,AAC9C,sBAA0B,AAC1B,UAAa,AACb,sBAAuB,AACvB,iBAAmB,CACpB,AACD,oBACE,sBAAuB,AAGvB,iBAAkB,AAElB,iBAAkB,AAElB,kBAAmB,AACnB,kBAAmB,AACnB,eAAgB,AAChB,gBAAkB,AAClB,kBAAoB,CAErB,AACD,yCAZE,aAAc,AAId,cAAe,AAMf,cAAgB,CAUjB,AARD,qBAGE,WAAY,AACZ,uBAA2B,AAC3B,cAAgB,AAChB,qBAAuB,CAExB,AACD,0BACE,sBAA0B,AAC1B,iBAAkB,AAClB,kBAAsB,AACtB,YAAa,AACb,cAAgB,CACjB,AACD,uDAEE,SAAe,CAChB,AACD,qBACE,UAAe,CAChB,AACD,qBACE,UAAe,CAChB,AACD,qBACE,UAAe,CAChB,AACD,qBACE,UAAe,CAChB,AACD,qBACE,UAAe,CAChB,AACD,0BACE,aAAe,AACf,sBAA0B,AAC1B,kBAAmB,AAEnB,sBAA0B,AAC1B,WAAe,AACf,iBAAkB,AAClB,gBAAkB,AAClB,cAAe,AACf,gBAAkB,CACnB\",\"file\":\"mine-sweeper.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n/*\\ncss copied from: https://birrell.org/andrew/minesweeper/\\n*/\\nh2[data-v-e26bd150] {\\n  color: white;\\n}\\n.board[data-v-e26bd150] {\\n  display: inline-block;\\n  padding-left: 1rem;\\n  padding-right: 1rem;\\n  padding-bottom: 1rem;\\n  text-align: left;\\n  user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  -o-user-select: none;\\n  -webkit-user-select: none;\\n}\\n.table[data-v-e26bd150] {\\n  margin-top: 1rem;\\n  margin-bottom: 1rem;\\n  border-spacing: 0px;\\n  background-color: #666666;\\n  color: #000000;\\n  user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  -o-user-select: none;\\n  -webkit-user-select: none;\\n}\\ntd[data-v-e26bd150],\\nth[data-v-e26bd150] {\\n  margin: 0px;\\n  border: 2px solid;\\n  border-color: #eeeeee #999999 #999999 #eeeeee;\\n  background-color: #cccccc;\\n  padding: 0px;\\n  vertical-align: middle;\\n  text-align: center;\\n}\\ntd[data-v-e26bd150] {\\n  box-sizing: border-box;\\n  /* avoids jumpiness when zoomed */\\n  width: 1.5rem;\\n  max-width: 1.5rem;\\n  /* avoids being resized if text is too long (iOS) */\\n  min-width: 1.5rem;\\n  height: 1.5rem;\\n  min-height: 1.5rem;\\n  max-height: 1.5rem;\\n  font-size: 1rem;\\n  font-weight: bold;\\n  line-height: 1.1rem;\\n  cursor: pointer;\\n}\\nimg[data-v-e26bd150] {\\n  width: 1.5rem;\\n  height: 1.5rem;\\n  margin: 2px;\\n  border: 3px groove #eeeeee;\\n  padding: 0.3rem;\\n  vertical-align: middle;\\n  cursor: pointer;\\n}\\n.exposed[data-v-e26bd150] {\\n  background-color: #bbbbbb;\\n  border-width: 1px;\\n  border-color: #999999;\\n  padding: 1px;\\n  cursor: default;\\n}\\n.exploded[data-v-e26bd150],\\n.incorrect[data-v-e26bd150] {\\n  color: #ff0000;\\n}\\n.m1[data-v-e26bd150] {\\n  color: #3333cc;\\n}\\n.m2[data-v-e26bd150] {\\n  color: #006600;\\n}\\n.m3[data-v-e26bd150] {\\n  color: #cc0000;\\n}\\n.m4[data-v-e26bd150] {\\n  color: #660066;\\n}\\n.m5[data-v-e26bd150] {\\n  color: #006666;\\n}\\n.counter[data-v-e26bd150] {\\n  margin: 0.25em;\\n  border: 1px inset #eeeeee;\\n  padding-right: 3px;\\n  /*width: 2.75em;*/\\n  background-color: #000000;\\n  color: #ff6666;\\n  font-size: 1.5rem;\\n  font-weight: bold;\\n  line-height: 1;\\n  text-align: right;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-e26bd150\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/mine-sweeper.vue\n// module id = 42\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-e26bd150\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./mine-sweeper.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"4efa51a6\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-e26bd150\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/mine-sweeper.vue\n// module id = 46\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('h2', [_vm._v(\"Mine Sweeper\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"board\"\n  }, [_c('table', {\n    staticClass: \"table\",\n    attrs: {\n      \"summary\": \"Mine Sweeper\"\n    }\n  }, [_c('thead', [_c('th', {\n    attrs: {\n      \"colspan\": _vm.colspan\n    }\n  }, [_c('div', {\n    staticClass: \"counter\",\n    domProps: {\n      \"textContent\": _vm._s(_vm.remained)\n    }\n  })]), _vm._v(\" \"), (_vm.interval >= 1) ? _c('th', {\n    attrs: {\n      \"colspan\": _vm.interval\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('th', {\n    attrs: {\n      \"colspan\": _vm.img_colspan\n    }\n  }, [_c('img', {\n    attrs: {\n      \"src\": './static/img/' + _vm.img\n    },\n    on: {\n      \"click\": _vm.init\n    }\n  })]), _vm._v(\" \"), (_vm.interval >= 1) ? _c('th', {\n    attrs: {\n      \"colspan\": _vm.interval\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('th', {\n    attrs: {\n      \"colspan\": _vm.colspan\n    }\n  }, [_c('div', {\n    staticClass: \"counter\",\n    domProps: {\n      \"textContent\": _vm._s(_vm.counter)\n    }\n  })])]), _vm._v(\" \"), _c('tbody', _vm._l((_vm.row), function(j) {\n    return _c('tr', {\n      key: j\n    }, [_vm._l((_vm.col), function(i) {\n      return [_c('td', {\n        key: i,\n        class: _vm.cellClass(i, j),\n        domProps: {\n          \"textContent\": _vm._s(_vm.cellStatus(i, j))\n        },\n        on: {\n          \"contextmenu\": function($event) {\n            $event.preventDefault();\n          },\n          \"mousedown\": function($event) {\n            $event.preventDefault();\n            _vm.mouse($event, i, j)\n          }\n        }\n      })]\n    })], 2)\n  }))])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-e26bd150\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/mine-sweeper.vue\n// module id = 51\n// module chunks = 1"],"sourceRoot":""}