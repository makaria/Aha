webpackJsonp([1],{32:function(n,e,t){t(46);var i=t(0)(t(37),t(51),"data-v-e26bd150",null);n.exports=i.exports},34:function(n,e,t){"use strict";e.a={permutations:function(n,e){var t,i;return i=[],t=function(n,e,r){var o,s;if(0===r)return i.push(n);for(o=0,s=e.length;o<s;)t(n.concat(e[o]),e.slice(0,o).concat(e.slice(o+1)),r-1),o++},t([],n,e),i},combinations:function(n,e){var t,i;return i=[],t=function(n,e,r){var o,s;if(0===r)return i.push(n);for(o=0,s=e.length;o<=s-r;)t(n.concat(e[o]),e.slice(o+1),r-1),o++},t([],n,e),i},shuffle:function(n,e){var t,i,r,o;for(i=n.length,r=[],null==e&&(e=i);i&&r.length<e;)t=Math.floor(Math.random()*i--),o=n[i],n[i]=n[t],n[t]=o,r.push(n[i]);return r},fermat:function(n,e,t){var i,r,o,s,c,a,d,l,u,A,h,f,m,g,p,b,B;return function(n,e,t){return n.y=-1*n.y,e.y=-1*e.y,t.y=-1*t.y},h=function(n,e){return[e.x-n.x,e.y-n.y]},u=function(n,e){return[n[0]-e[0],n[1]-e[1]]},a=function(n,e){var t,i,r;return i=[n[1],-1*n[0]],r=[-1*n[1],n[0]],t=i[0]*e[0]+i[1]*e[1],t<0?i:r},A=function(n,e){return[.5*(n[0]+Math.sqrt(3)*e[0]),.5*(n[1]+Math.sqrt(3)*e[1])]},o=function(n,e){return{a:n[1],b:-1*n[0],c:n[0]*e.y-n[1]*e.x}},r=function(n,e){return{x:(n.b*e.c-e.b*n.c)/(n.a*e.b-e.a*n.b),y:(e.a*n.c-n.a*e.c)/(n.a*e.b-e.a*n.b)}},f=h(n,e),m=h(n,t),d=a(m,f),l=a(f,m),g=A(m,d),p=A(f,l),b=u(g,f),B=u(p,m),c=o(B,t),s=o(b,e),i=r(s,c),i}}},37:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t(34);e.default={name:"minesweeper",data:function(){return{risk:null,density:.15625,counter:"∞",counting:!1,col:30,row:16,exploded:!1,exposed:0,flaged:0,cells:{},neighbor:[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]],playing:!1,last_time:0,duplicate_counter:0,luckiness:0}},computed:{colspan:function(){return this.col>=10?4:.5*(this.col-2)},img_colspan:function(){return this.col%2==0?2:3},img:function(){return this.exploded?"sad.gif":this.exposed===this.empty?"happy.gif":"peace.gif"},mines:function(){return this.risk?this.risk:30===this.col&&16===this.row?99:16===this.col&&16===this.row?40:9===this.col&&9===this.row||16===this.col&&16===this.row?10:10*Math.round(this.col*this.row*this.density*.1)},empty:function(){return this.row*this.col-this.mines},remained:function(){return this.mines-this.flaged},interval:function(){return.5*(this.col-2*this.colspan-2)}},created:function(){return this.init()},mounted:function(){return document.addEventListener("visibilitychange",this.handleVisibility,!1)},activated:function(){return document.title="Mine Sweeper",document.body.style.backgroundColor="#666666",this.togglePause()},deactivated:function(){return this.togglePause(),document.body.style.backgroundColor="#ffffff"},methods:{init:function(){return this.exploded=!1,this.flaged=0,this.exposed=0,this.counting=!1,this.counter="∞",this.duplicate_counter=0,this.cells={},this.createCells(),this.createMines()},handleVisibility:function(){return this.togglePause()},togglePause:function(){if(this.playing=!this.playing,this.counting)return this.count(),this.playing?console.info("continue"):console.info("pause")},count:function(){if(this.counting&&this.playing)return Date.now()-this.last_time>=1e3?(this.counter+=1,this.last_time=Date.now()):this.duplicate_counter+=1,setTimeout(function(n){return function(){return n.count()}}(this),1e3)},key:function(n,e){return n+"-"+e},isExposed:function(n,e){var t,i;return i=this.key(n,e),!(!(t=this.cells[i])||!t.exposed)},cellStatus:function(n,e){var t,i;return i=this.key(n,e),t=this.cells[i],this.exploded?"flaged"===t.flaged?t.mined?"!":"×":t.mined?"☀":t.mines>0?t.mines:"":t.exposed?t.mines>0?t.mines:"":"flaged"===t.flaged?"!":"unsettled"===t.flaged?"?":""},cellClass:function(n,e){var t,i,r;return r=this.key(n,e),i=this.cells[r],t=[],this.exploded?("flaged"===i.flaged?i.mined||(t.push("incorrect"),t.push("exposed")):(i.exposed||i.mined)&&t.push("exposed"),i.exploded?t.push("exploded"):!i.mined&&i.mines>0&&!i.flaged&&t.push("m"+i.mines)):i.exposed&&(t.push("exposed"),i.mines>0&&t.push("m"+i.mines)),t},createCells:function(){var n,e,t,i,r,o,s,c;for(n={},e=i=1,s=this.col;1<=s?i<=s:i>=s;e=1<=s?++i:--i)for(t=o=1,c=this.row;1<=c?o<=c:o>=c;t=1<=c?++o:--o)r=this.key(e,t),n[r]={x:e,y:t,mined:!1,flaged:!1,exposed:!1,neighbor:this.createNeighbor(e,t),mines:0};return this.cells=n},createNeighbor:function(n,e){var t;return t=this.neighbor.map(function(t){return{x:t[0]+n,y:t[1]+e}}),t=t.filter(function(n){return function(e){var t,i;return 1<=(t=e.x)&&t<=n.col&&1<=(i=e.y)&&i<=n.row}}(this))},createMines:function(n){var e,t,r,o,s;for(e=0,s=0,n||(n=i.a.shuffle(Object.keys(this.cells),this.mines)),t=0,o=n.length;t<o;t++)r=n[t],this.cells[r].mined?e+=1:(this.cells[r].mined=!0,s+=1,this.cells[r].neighbor.forEach(function(n){return function(e){return n.cells[n.key(e.x,e.y)].mines+=1}}(this)));if(s!==this.mines)return console.error(n,s)},clearMines:function(){var n,e,t,i;t=this.cells,i=[];for(e in t)n=t[e],n.mined=!1,i.push(n.mines=0);return i},moveMines:function(n){var e,t,r,o;return e=[],e.push(n),e=e.concat(n.neighbor),r=Object.keys(this.cells),t=r.filter(function(n){var t;return t=n.split("-"),-1===e.findIndex(function(n){return n.x===~~t[0]&&n.y===~~t[1]})}),o=i.a.shuffle(t,this.mines),this.clearMines(),this.createMines(o)},mouse:function(n,e,t){var i,r;if(!this.exploded&&this.exposed!==this.empty)return r=this.key(e,t),i=this.cells[r],0===n.button?this.sweep(i):2===n.button?this.flag(i):void 0},sweep:function(n){var e;if("flaged"!==n.flaged)return 0===this.exposed?((n.mined||n.mines>0)&&this.moveMines(n),this.counting=!0,this.counter=0,this.count(),e=this.key(n.x,n.y),this.expose(this.cells[e])):n.mined?this.explode(n):n.exposed?this.expose_neighbor(n):this.expose(n)},flag:function(n){if(0!==this.exposed){if(n.exposed)return this.flag_neighbor(n);switch(n.flaged){case"flaged":return n.flaged="unsettled",this.flaged-=1;case"unsettled":return n.flaged=!1;default:return n.flaged="flaged",this.flaged+=1}}},flag_neighbor:function(n){var e;if(e=n.neighbor.map(function(n){return function(e){return n.cells[n.key(e.x,e.y)]}}(this)),e.map(function(n){return Number(!n.exposed)}).reduce(function(n,e){return n+e})>=n.mines)return e.filter(function(n){return!n.exposed&&!n.flaged}).forEach(function(n){return function(e){n.flag(e)}}(this))},expose:function(n){if(!n.exposed)return n.exposed=!0,this.exposed+=1,0===n.mines&&n.neighbor.map(function(n){return function(e){return n.cells[n.key(e.x,e.y)]}}(this)).forEach(function(n){return function(e){n.expose(e)}}(this)),this.win()},expose_neighbor:function(n){var e,t;e=n.neighbor.map(function(n){return function(e){return n.cells[n.key(e.x,e.y)]}}(this)),(t=e.map(function(n){return Number("flaged"===n.flaged)}).reduce(function(n,e){return n+e}))>=n.mines&&e.filter(function(n){return"flaged"!==n.flaged}).forEach(function(n){return function(e){e.mined?n.explode(e):n.expose(e)}}(this))},win:function(){if(this.exposed===this.empty)return this.counting=!1,console.info("WIN")},explode:function(n){return n.exploded=!0,this.exploded=!0,this.counting=!1,console.info("LOSE")},lucky:function(n){var e,t,i,r,o;return e=n.neighbor.map(function(n){return function(e){return n.cells[n.key(e.x,e.y)]}}(this)),o=e.filter(function(n){return function(n){return!n.exposed&&"flaged"!==n.flaged&&!n.mined}}()),r=e.filter(function(n){return n.exposed}),0===o.length?void this.explode(n):0===r.length?(this.flag(n),void(this.luckiness+=1)):(t=function(n){return function(e){var t,i,r,o;return i=e.neighbor.map(function(e){return n.cells[n.key(e.x,e.y)]}),r=i.filter(function(n){return!n.exposed}),t=i.map(function(n){return Number("flaged"===n.flaged)}).reduce(function(n,e){return n+e}),r.length>(o=e.mines-t)&&o>0}}(this),i=r.map(function(n){return t(n)}).reduce(function(n,e){return n&&e}),i?(this.flag(n),this.luckiness+=1):this.explode(n))}}}},42:function(n,e,t){e=n.exports=t(28)(!0),e.push([n.i,"h2[data-v-e26bd150]{color:#fff}.board[data-v-e26bd150]{display:inline-block;padding-left:1rem;padding-right:1rem;padding-bottom:1rem;text-align:left}.board[data-v-e26bd150],.table[data-v-e26bd150]{user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;-webkit-user-select:none}.table[data-v-e26bd150]{margin-top:1rem;margin-bottom:1rem;border-spacing:0;background-color:#666;color:#000}td[data-v-e26bd150],th[data-v-e26bd150]{margin:0;border:2px solid;border-color:#eee #999 #999 #eee;background-color:#ccc;padding:0;vertical-align:middle;text-align:center}td[data-v-e26bd150]{box-sizing:border-box;max-width:1.5rem;min-width:1.5rem;min-height:1.5rem;max-height:1.5rem;font-size:1rem;font-weight:700;line-height:1.1rem}img[data-v-e26bd150],td[data-v-e26bd150]{width:1.5rem;height:1.5rem;cursor:pointer}img[data-v-e26bd150]{margin:2px;border:3px groove #eee;padding:.3rem;vertical-align:middle}.exposed[data-v-e26bd150]{background-color:#bbb;border-width:1px;border-color:#999;padding:1px;cursor:default}.exploded[data-v-e26bd150],.incorrect[data-v-e26bd150]{color:red}.m1[data-v-e26bd150]{color:#33c}.m2[data-v-e26bd150]{color:#060}.m3[data-v-e26bd150]{color:#c00}.m4[data-v-e26bd150]{color:#606}.m5[data-v-e26bd150]{color:#066}.counter[data-v-e26bd150]{margin:.25em;border:1px inset #eee;padding-right:3px;background-color:#000;color:#f66;font-size:1.5rem;font-weight:700;line-height:1;text-align:right}","",{version:3,sources:["C:/Users/ding/Documents/GitHub/Aha/src/pages/mine-sweeper.vue"],names:[],mappings:"AAqcA,oBACE,UAAa,CACd,AACD,wBACE,qBAAsB,AACtB,kBAAmB,AACnB,mBAAoB,AACpB,oBAAqB,AACrB,eAAiB,CAMlB,AACD,gDANE,iBAAkB,AAClB,sBAAuB,AACvB,qBAAsB,AACtB,oBAAqB,AACrB,wBAA0B,CAa3B,AAXD,wBACE,gBAAiB,AACjB,mBAAoB,AACpB,iBAAoB,AACpB,sBAA0B,AAC1B,UAAe,CAMhB,AACD,wCAEE,SAAY,AACZ,iBAAkB,AAClB,iCAA8C,AAC9C,sBAA0B,AAC1B,UAAa,AACb,sBAAuB,AACvB,iBAAmB,CACpB,AACD,oBACE,sBAAuB,AAGvB,iBAAkB,AAElB,iBAAkB,AAElB,kBAAmB,AACnB,kBAAmB,AACnB,eAAgB,AAChB,gBAAkB,AAClB,kBAAoB,CAErB,AACD,yCAZE,aAAc,AAId,cAAe,AAMf,cAAgB,CAUjB,AARD,qBAGE,WAAY,AACZ,uBAA2B,AAC3B,cAAgB,AAChB,qBAAuB,CAExB,AACD,0BACE,sBAA0B,AAC1B,iBAAkB,AAClB,kBAAsB,AACtB,YAAa,AACb,cAAgB,CACjB,AACD,uDAEE,SAAe,CAChB,AACD,qBACE,UAAe,CAChB,AACD,qBACE,UAAe,CAChB,AACD,qBACE,UAAe,CAChB,AACD,qBACE,UAAe,CAChB,AACD,qBACE,UAAe,CAChB,AACD,0BACE,aAAe,AACf,sBAA0B,AAC1B,kBAAmB,AAEnB,sBAA0B,AAC1B,WAAe,AACf,iBAAkB,AAClB,gBAAkB,AAClB,cAAe,AACf,gBAAkB,CACnB",file:"mine-sweeper.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\ncss copied from: https://birrell.org/andrew/minesweeper/\n*/\nh2[data-v-e26bd150] {\n  color: white;\n}\n.board[data-v-e26bd150] {\n  display: inline-block;\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-bottom: 1rem;\n  text-align: left;\n  user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  -webkit-user-select: none;\n}\n.table[data-v-e26bd150] {\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n  border-spacing: 0px;\n  background-color: #666666;\n  color: #000000;\n  user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  -webkit-user-select: none;\n}\ntd[data-v-e26bd150],\nth[data-v-e26bd150] {\n  margin: 0px;\n  border: 2px solid;\n  border-color: #eeeeee #999999 #999999 #eeeeee;\n  background-color: #cccccc;\n  padding: 0px;\n  vertical-align: middle;\n  text-align: center;\n}\ntd[data-v-e26bd150] {\n  box-sizing: border-box;\n  /* avoids jumpiness when zoomed */\n  width: 1.5rem;\n  max-width: 1.5rem;\n  /* avoids being resized if text is too long (iOS) */\n  min-width: 1.5rem;\n  height: 1.5rem;\n  min-height: 1.5rem;\n  max-height: 1.5rem;\n  font-size: 1rem;\n  font-weight: bold;\n  line-height: 1.1rem;\n  cursor: pointer;\n}\nimg[data-v-e26bd150] {\n  width: 1.5rem;\n  height: 1.5rem;\n  margin: 2px;\n  border: 3px groove #eeeeee;\n  padding: 0.3rem;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.exposed[data-v-e26bd150] {\n  background-color: #bbbbbb;\n  border-width: 1px;\n  border-color: #999999;\n  padding: 1px;\n  cursor: default;\n}\n.exploded[data-v-e26bd150],\n.incorrect[data-v-e26bd150] {\n  color: #ff0000;\n}\n.m1[data-v-e26bd150] {\n  color: #3333cc;\n}\n.m2[data-v-e26bd150] {\n  color: #006600;\n}\n.m3[data-v-e26bd150] {\n  color: #cc0000;\n}\n.m4[data-v-e26bd150] {\n  color: #660066;\n}\n.m5[data-v-e26bd150] {\n  color: #006666;\n}\n.counter[data-v-e26bd150] {\n  margin: 0.25em;\n  border: 1px inset #eeeeee;\n  padding-right: 3px;\n  /*width: 2.75em;*/\n  background-color: #000000;\n  color: #ff6666;\n  font-size: 1.5rem;\n  font-weight: bold;\n  line-height: 1;\n  text-align: right;\n}\n"],sourceRoot:""}])},46:function(n,e,t){var i=t(42);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);t(29)("4efa51a6",i,!0)},51:function(n,e){n.exports={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("h2",[n._v("Mine Sweeper")]),n._v(" "),t("div",{staticClass:"board"},[t("table",{staticClass:"table",attrs:{summary:"Mine Sweeper"}},[t("thead",[t("th",{attrs:{colspan:n.colspan}},[t("div",{staticClass:"counter",domProps:{textContent:n._s(n.remained)}})]),n._v(" "),n.interval>=1?t("th",{attrs:{colspan:n.interval}}):n._e(),n._v(" "),t("th",{attrs:{colspan:n.img_colspan}},[t("img",{attrs:{src:"./static/img/"+n.img},on:{click:n.init}})]),n._v(" "),n.interval>=1?t("th",{attrs:{colspan:n.interval}}):n._e(),n._v(" "),t("th",{attrs:{colspan:n.colspan}},[t("div",{staticClass:"counter",domProps:{textContent:n._s(n.counter)}})])]),n._v(" "),t("tbody",n._l(n.row,function(e){return t("tr",{key:e},[n._l(n.col,function(i){return[t("td",{key:i,class:n.cellClass(i,e),domProps:{textContent:n._s(n.cellStatus(i,e))},on:{contextmenu:function(n){n.preventDefault()},mousedown:function(t){t.preventDefault(),n.mouse(t,i,e)}}})]})],2)}))])])])},staticRenderFns:[]}}});
//# sourceMappingURL=1.d42f8c81f75a49fa9534.js.map